================================================================================
simple_macro
================================================================================

macro    

main() { return;}

--------------------------------------------------------------------------------

macro main()
{
    return;
}

================================================================================
simple_ct_macro
================================================================================

macro @m(
#x 

, y
)
{  #x = 2 * y;
}

--------------------------------------------------------------------------------

macro @m(#x, y)
{
    #x = 2 * y;
}

================================================================================
simple_macro_ct_type
================================================================================

macro size($Type)
{
    return $Type.sizeof + 

    int.sizeof;
}
--------------------------------------------------------------------------------

macro size($Type)
{
    return $Type.sizeof + int.sizeof;
}

================================================================================
simple_macro_body_definition
================================================================================

macro SomeType   * !
   @for_each(   list   ; @body(   it  ))
{
    for ($typeof(list)
    x = list; x;
    x = x.next)
    {
    @body(x);
    }
}
--------------------------------------------------------------------------------

macro SomeType*! @for_each(list; @body(it))
{
    for ($typeof(list) x = list; x; x = x.next) {
        @body(x);
    }
}

================================================================================
name_fields
================================================================================

macro usz @offset($Type, #field)
{
        $Type* t = null;
    return (usz)

    (uptr)  &    t   .   #field;
}

--------------------------------------------------------------------------------

macro usz @offset($Type, #field)
{
    $Type * t = null;
    return (usz)(uptr)&t.#field;
}

